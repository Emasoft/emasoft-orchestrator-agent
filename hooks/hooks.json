{
  "description": "Orchestrator Agent hooks - task completion enforcement, verification, polling",
  "_note": "Hook data is passed via stdin as JSON. Scripts read from stdin, not env vars.",
  "hooks": {
    "Stop": [
      {
        "_id": "orch-orchestrator-stop",
        "_description": "Blocks premature exit until all tasks are complete",
        "hooks": [
          {
            "type": "command",
            "command": "python3 -m orch_stop_check.main",
            "cwd": "${CLAUDE_PLUGIN_ROOT}/scripts"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "_id": "orch-instruction-verification-check",
        "_description": "MANDATORY: Blocks agent work reports if instruction verification incomplete",
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/orch_check_verification_status.py",
            "timeout": 10
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "_id": "orch-polling-reminder",
        "_description": "MANDATORY: Reminds orchestrator when progress polling is overdue",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/orch_check_polling_due.py",
            "timeout": 5
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "_id": "orch-file-tracker",
        "_description": "Track file modifications for orchestration context",
        "matcher": "Edit|MultiEdit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/orch_file_tracker.py"
          }
        ]
      }
    ]
  }
}
